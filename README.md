![Python](https://img.shields.io/badge/Python-3.11|3.12-3776AB?logo=python&logoColor=white)  ![FastAPI](https://img.shields.io/badge/FastAPI-005571?logo=fastapi)  ![Docker](https://img.shields.io/badge/Docker-2496ED?logo=docker&logoColor=white)  ![Postgres](https://img.shields.io/badge/PostgreSQL-4169E1?logo=postgresql&logoColor=white)  ![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-2.0-D71F00?logo=sqlalchemy&logoColor=white)  ![Logging](https://img.shields.io/badge/Logging-FFFFFF?logo=logging&logoColor=black)

# Проект «Бронирование мест в кафе»

# Описание проекта:

## Основное

1. Базовая версия Python - 3.11.
2. В файле `requirements_style.txt` находятся зависимости для стилистики.
3. В каталоге `src` находится базовая структура проекта
4. В файле `src/requirements.txt` находятся базовые зависимости.
5. В каталоге `infra` находятся настроечные файлы проекта. Здесь же размещены файлы для docker compose.

## Краткая информация:

Проект «Бронирование мест в кафе» - представляет собой приложение, которое предоставляет API (backend) для управления бронированием мест в кафе, просмотром и предварительным заказом меню, просмотром действующих акций.

## Мой вклад в проект

В рамках командной разработки я отвечал за следующие ключевые модули:

### Модуль управления блюдами (Dish)
**Полная реализация CRUD-операций для сущности "Блюдо":**
- **Модели БД**: Спроектировал и реализовал SQLAlchemy-модель `Dish` с полями: название, описание, цена, категория, доступность, время приготовления
- **Схемы Pydantic**: Создал `DishCreate`, `DishUpdate`, `DishResponse` для валидации входящих данных и сериализации ответов
- **Эндпоинты**: Разработал полный набор REST API endpoints:
  - `GET /dishes` — получение списка блюд (с пагинацией и фильтрацией)
  - `GET /dishes/{id}` — получение конкретного блюда
  - `POST /dishes` — создание нового блюда (только для Manager/Admin)
  - `PUT /dishes/{id}` — обновление блюда
  - `DELETE /dishes/{id}` — удаление блюда (soft/hard delete)
- **Бизнес-логика**: Реализовал валидацию цен, проверку уникальности названий, управление статусом доступности

### Ролевая система и авторизация
**Участие в разработке системы контроля доступа:**
- Интеграция проверок прав доступа в декораторы и зависимости FastAPI
- Реализация ограничений на уровне эндпоинтов (например, только `Manager` и `Admin` могут создавать/редактировать блюда)
- Участие в проектировании иерархии ролей и их привилегий

### Прочее
- Участие в code review командных пул-реквестов
- Рефакторинг и оптимизация запросов к БД

## Основной функционал:

- Управление пользователями (создание/ редактирование/ блокировка-разблокировка)
- Авторизация пользователей
- Бронирование столов в кафе с выбором даты, времени, блюд из меню
- Предоставление информации о действующих акциях
- Предоставление информации о доступных блюдах
- Управление бронированием (изменение даты, времени, меню/ отмена)
- Напоминание о бронировании (задается для каждого бронирования)
- Уведомление администратора о бронировании/ изменении бронирования

## Для пользователей реализованы следующие роли:

- Admin
- User
- Manager

## Основные ендпоинты:

- /auth – аутентификация пользователя
- /users – управления пользователями
- /cafes – управление кафе
- /cafe/tables – управление столами в кафе
- /cafe/slots – управление слотами доступного времени бронирования в кафе
- /dishes – управление блюдами
- /actions – управление акциями
- /bookings – управление бронированиями

## Технологии:

- Python 3.11, 3.12
- FastAPI
- Docker
- Postgres
- SQLAlchemy 2.0
- Logging

## Инструкция по развёртыванию проекта

* клонировать проект на компьютер `https://github.com/Studio-Yandex-Practicum/tables_booking_system_team1.git`
* создание виртуального окружения `python3 -m venv venv`
* запуск виртуального окружения `. venv/bin/activate`
* установить зависимости из файла requirements.txt `pip install -r requirements.txt`
* запуск сервера `uvicorn src.main:app`
* запуск сервера с автоматическим рестартом `uvicorn main:app --reload`
* применение миграций `alembic upgrade head`

## Стилистика

Для стилизации кода используется пакеты `Ruff` и `Pre-commit`

Проверка стилистики кода осуществляется командой
```shell
ruff check
```

## Разработчики (исполнители):

- https://github.com/Svetlana-Korol
- https://github.com/RemDef
- https://github.com/sukhoparov
- https://github.com/shemah77
- https://github.com/AlexSpiridonov-hll
- https://github.com/KozlovL
- https://github.com/AlexSkripova
- https://github.com/Blifers

### Проект выполнен в рамках выполнения этапа обучения "Проектный месяц: командная работа" в "Яндекс Практикум"
